import{_ as s,o as a,c as e,a as n}from"./app.e6daa892.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"软件介绍","slug":"软件介绍","link":"#软件介绍","children":[{"level":3,"title":"编写人员","slug":"编写人员","link":"#编写人员","children":[]},{"level":3,"title":"官方文档:","slug":"官方文档","link":"#官方文档","children":[]}]},{"level":2,"title":"安装docker  （所有节点）","slug":"安装docker-所有节点","link":"#安装docker-所有节点","children":[{"level":3,"title":"卸载旧版本","slug":"卸载旧版本","link":"#卸载旧版本","children":[]},{"level":3,"title":"切换源","slug":"切换源","link":"#切换源","children":[]},{"level":3,"title":"安装docker ce","slug":"安装docker-ce","link":"#安装docker-ce","children":[]},{"level":3,"title":"修改配置","slug":"修改配置","link":"#修改配置","children":[]},{"level":3,"title":"修改启动参数，否则启动docker会改变chain 的值","slug":"修改启动参数-否则启动docker会改变chain-的值","link":"#修改启动参数-否则启动docker会改变chain-的值","children":[]},{"level":3,"title":"参考加速器地址","slug":"参考加速器地址","link":"#参考加速器地址","children":[]},{"level":3,"title":"重新启动docker","slug":"重新启动docker","link":"#重新启动docker","children":[]},{"level":3,"title":"查看docker信息","slug":"查看docker信息","link":"#查看docker信息","children":[]},{"level":3,"title":"Docker 常用命令","slug":"docker-常用命令","link":"#docker-常用命令","children":[]}]}],"relativePath":"articles/deploy/docker安装.md","lastUpdated":1697780285000}'),r={name:"articles/deploy/docker安装.md"},l=n(`<h2 id="软件介绍" tabindex="-1">软件介绍 <a class="header-anchor" href="#软件介绍" aria-hidden="true">#</a></h2><p>docker 是基于go语言实现的云开源项目，诞生于2013年初。docker 引擎的基础是linux 容器技术（lxc），在lxc 的基础上docker 进一步优化了容器的使用体验。docker 提供了各种容器管理工具（如分发，版本，移植等）让用户无需关注底层操作系统，就像操作一个轻量级的虚拟机一样。可以简单的将docker 理解为一种沙盒，每个容器内运行一个应用，不同容器相互隔离，容器的创建，运行，停止都非常快速，而且自身对资源的需求也十分有限远低于虚拟机。</p><h4 id="具体来说docker-在开发和运维的过程中有如下几个方面的优势" tabindex="-1">具体来说docker 在开发和运维的过程中有如下几个方面的优势 <a class="header-anchor" href="#具体来说docker-在开发和运维的过程中有如下几个方面的优势" aria-hidden="true">#</a></h4><ul><li><p>更快速的交付和部署</p><p>使用docker，开发人员可以使用镜像快速构建一套标准的开发环境； 开发完成之后测试运维人员可以直接使用相同环境来部署代码，docker可以快速创建和删除容器，实现快速迭代，大量节约开发，测试，部署的时间。</p></li><li><p>更高效的资源利用</p><p>docker 运行不需要额外的虚拟化管理程序，他是内核级的虚拟化，可以实现更高的性能，同时对资源的额外需求很低。</p></li><li><p>更轻松的迁移和扩展</p><p>docker 容器几乎可以在任何平台上运行。包括物理机，虚拟机，公有云，私有云，个人电脑，服务器等，这样可以在不通平台之间任意迁移。</p></li><li><p>更简单的更新和管理</p><p>使用Dockerfile，可以代替以往的繁琐的更新，而且这些更新是可跟踪的，在开发环境中这种形式更为可靠。</p></li></ul><h4 id="docker-的核心概念" tabindex="-1">docker 的核心概念 <a class="header-anchor" href="#docker-的核心概念" aria-hidden="true">#</a></h4><ul><li><p>镜像 (Image)</p><p>镜像类似于虚拟机镜像，可以将它理解为一个面向Docker引擎的只读模板，包含了文件系统，如一个包含了Centos 文件系统的镜像就可以称为centos镜像。 后期制作的镜像必须是基于基本文件系统镜像制作的，比如在centos 镜像中加入 java 环境， 加入tomcat 配置好环境变量，然后重新生成一个新的镜像。用户可以从网上下载已经做好的镜像直接导入使用，</p></li><li><p>容器 (Container)</p><p>容器是从镜像创建的应用的运行实例，可以使用镜像创建多个容器并运行，这些容器都是相互隔离，互不可见的。可以把容器理解为一个简单的linux 系统，包括root用户权限，进程空间，用户空间，网络空间等。可以进入到容器里边，就像进入一个linux 系统一样。 镜像本身是只读的，每个容器在启动的时候 Docker会在镜像的嘴上层创建一个可写的层，镜像本身保持不变。</p></li><li><p>仓库 (Repository)</p><p>Docker 仓库类似于代码仓库（git），只不过存储的不是代码是docker 的镜像。 是集中存放镜像文件的场所。根据仓库存储的镜像是否共享，分为私有仓库和。 （类似于互联网的 git 公有仓库，和公司内部搭建的git私有仓库），目前最大的Docker 公有仓库是Docker Hub，存放了数量庞大的镜像。 目前阿里云等云厂商也都提供共用镜像使用。</p><p>docker 仓库的命令跟git 基本一致</p><p>使用 docker pull &lt;docker镜像地址&gt; 命令可以 可以下载一个镜像到本地</p><p>修改完后 ，比如加入 tomcat ，可以使用 docker commit 提交镜像到仓库</p><p>使用 docker push 命令可以提交一个新的 镜像到仓库</p></li></ul><h3 id="编写人员" tabindex="-1">编写人员 <a class="header-anchor" href="#编写人员" aria-hidden="true">#</a></h3><h3 id="官方文档" tabindex="-1">官方文档: <a class="header-anchor" href="#官方文档" aria-hidden="true">#</a></h3><h4 id="安装过程" tabindex="-1">安装过程 <a class="header-anchor" href="#安装过程" aria-hidden="true">#</a></h4><h2 id="安装docker-所有节点" tabindex="-1">安装docker （所有节点） <a class="header-anchor" href="#安装docker-所有节点" aria-hidden="true">#</a></h2><h3 id="卸载旧版本" tabindex="-1">卸载旧版本 <a class="header-anchor" href="#卸载旧版本" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">yum remove docker \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-client \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-client-latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-common \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-latest-logrotate \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-logrotate \\</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-engine</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>卸载新版本</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">yum remove docker-ce docker-ce-cli containerd.io</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="切换源" tabindex="-1">切换源 <a class="header-anchor" href="#切换源" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">echo &quot;nameserver 114.114.114.114&quot; &gt; /etc/resolv.conf</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="安装docker-ce" tabindex="-1">安装docker ce <a class="header-anchor" href="#安装docker-ce" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">yum install -y yum-utils device-mapper-persistent-data lvm2 &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">yum makecache fast &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install -y docker-ce-18.09.0-3.el7 docker-ce-cli-18.09.0-3.el7 containerd.io-1.2.0-3.el7 &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl enable docker.service &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl start  docker  </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># 注意：</span></span>
<span class="line"><span style="color:#A6ACCD;"># 官方软件源默认启用了最新的软件，您可以通过编辑软件源的方式获取各个版本的软件包。例如官方并没有将测试版本的软件源置为可用，您可以通过以下方式开启。同理可以开启各种测试版本等。</span></span>
<span class="line"><span style="color:#A6ACCD;"># vim /etc/yum.repos.d/docker-ee.repo</span></span>
<span class="line"><span style="color:#A6ACCD;">#   将[docker-ce-test]下方的enabled=0修改为enabled=1</span></span>
<span class="line"><span style="color:#A6ACCD;">#</span></span>
<span class="line"><span style="color:#A6ACCD;"># 安装指定版本的Docker-CE:</span></span>
<span class="line"><span style="color:#A6ACCD;"># Step 1: 查找Docker-CE的版本:</span></span>
<span class="line"><span style="color:#A6ACCD;"># yum list docker-ce.x86_64 --showduplicates | sort -r</span></span>
<span class="line"><span style="color:#A6ACCD;">#   Loading mirror speeds from cached hostfile</span></span>
<span class="line"><span style="color:#A6ACCD;">#   Loaded plugins: branch, fastestmirror, langpacks</span></span>
<span class="line"><span style="color:#A6ACCD;">#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable</span></span>
<span class="line"><span style="color:#A6ACCD;">#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            @docker-ce-stable</span></span>
<span class="line"><span style="color:#A6ACCD;">#   docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable</span></span>
<span class="line"><span style="color:#A6ACCD;">#   Available Packages</span></span>
<span class="line"><span style="color:#A6ACCD;"># Step2: 安装指定版本的Docker-CE: (VERSION例如上面的17.03.0.ce.1-1.el7.centos)</span></span>
<span class="line"><span style="color:#A6ACCD;"># sudo yum -y install docker-ce-[VERSION]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="修改配置" tabindex="-1">修改配置 <a class="header-anchor" href="#修改配置" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">mkdir -p /data/docker &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">mkdir -p /etc/docker &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">rm -rf /etc/docker/daemon.json &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">cat &gt;&gt; /etc/docker/daemon.json  &lt;&lt;  EOF</span></span>
<span class="line"><span style="color:#A6ACCD;">{  </span></span>
<span class="line"><span style="color:#A6ACCD;">   &quot;log-driver&quot;: &quot;json-file&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">   &quot;log-opts&quot;: {    &quot;max-size&quot;: &quot;500m&quot;, &quot;max-file&quot;: &quot;10&quot;   },</span></span>
<span class="line"><span style="color:#A6ACCD;">   &quot;graph&quot;: &quot;/data/docker&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">   &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;],</span></span>
<span class="line"><span style="color:#A6ACCD;">   &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">EOF</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="修改启动参数-否则启动docker会改变chain-的值" tabindex="-1">修改启动参数，否则启动docker会改变chain 的值 <a class="header-anchor" href="#修改启动参数-否则启动docker会改变chain-的值" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i &quot;13i ExecStartPost=/usr/sbin/iptables -P FORWARD ACCEPT&quot; /usr/lib/systemd/system/docker.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="参考加速器地址" tabindex="-1">参考加速器地址 <a class="header-anchor" href="#参考加速器地址" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">--registry-mirror=https://registry.docker-cn.com</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">网易163镜像加速</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">--registry-mirror=http://hub-mirror.c.163.com</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">中科大镜像加速</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">--registry-mirror=https://docker.mirrors.ustc.edu.cn</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">阿里云镜像加速</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">--registry-mirror=https://{your_id}.mirror.aliyuncs.com</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">daocloud镜像加速</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">--registry-mirror=http://{your_id}.m.daocloud.io</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="重新启动docker" tabindex="-1">重新启动docker <a class="header-anchor" href="#重新启动docker" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl restart  docker</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="查看docker信息" tabindex="-1">查看docker信息 <a class="header-anchor" href="#查看docker信息" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">docker info </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="下载一个centos镜像-latest-为最新版本。也可以指定-xxx-版本" tabindex="-1">下载一个centos镜像,:latest 为最新版本。也可以指定：XXX 版本 <a class="header-anchor" href="#下载一个centos镜像-latest-为最新版本。也可以指定-xxx-版本" aria-hidden="true">#</a></h4><pre><code>docker pull centos:latest
</code></pre><p>会自动从docker hub 中下载 大概为 190M</p><h4 id="下载后执行查看所有镜像" tabindex="-1">下载后执行查看所有镜像 <a class="header-anchor" href="#下载后执行查看所有镜像" aria-hidden="true">#</a></h4><pre><code>docker images 
</code></pre><h4 id="基于centos镜像创建容器" tabindex="-1">基于centos镜像创建容器 <a class="header-anchor" href="#基于centos镜像创建容器" aria-hidden="true">#</a></h4><p>docker create -it centos:latest</p><h4 id="查看所有容器" tabindex="-1">查看所有容器 <a class="header-anchor" href="#查看所有容器" aria-hidden="true">#</a></h4><pre><code>docker ps -a
</code></pre><h4 id="启动这个容器" tabindex="-1">启动这个容器 <a class="header-anchor" href="#启动这个容器" aria-hidden="true">#</a></h4><pre><code>docker start &lt;容器的id&gt; /bin/echo &#39;hello world&#39;
</code></pre><h1 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h1><p>可以看到屏幕打印了 hello world</p><p>执行完后该容器就终止了</p><h4 id="下面命令将启动一个bash-终端-允许用户进行交互" tabindex="-1">下面命令将启动一个bash 终端 允许用户进行交互 <a class="header-anchor" href="#下面命令将启动一个bash-终端-允许用户进行交互" aria-hidden="true">#</a></h4><pre><code>docker start &lt;容器id&gt; -t -i /bin/bash
</code></pre><p>用户可以通过命令进行交互，如 pwd，ls 等，在容器内查看进程 ps， 可以看到只运行了 bash 应用，并没有其他不需要的进程。， 可以输入exit 退出容器</p><h4 id="如果需要容器以后台守护态运行" tabindex="-1">如果需要容器以后台守护态运行 <a class="header-anchor" href="#如果需要容器以后台守护态运行" aria-hidden="true">#</a></h4><pre><code>运行时加 -d 就可以了
</code></pre><h4 id="安装docker-compose" tabindex="-1">安装docker-compose <a class="header-anchor" href="#安装docker-compose" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">curl -o    /usr/bin/docker-compose   http://www.mgf.show/static/download/software/docker-compose-Linux-x86_64 &amp;&amp; chmod 755 /usr/bin/docker-compose</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="docker-常用命令" tabindex="-1">Docker 常用命令 <a class="header-anchor" href="#docker-常用命令" aria-hidden="true">#</a></h3><h5 id="查看信息" tabindex="-1">查看信息 <a class="header-anchor" href="#查看信息" aria-hidden="true">#</a></h5><pre><code>docker info
</code></pre><h5 id="查看镜像" tabindex="-1">查看镜像 <a class="header-anchor" href="#查看镜像" aria-hidden="true">#</a></h5><pre><code>docker images
</code></pre><h5 id="查看容器" tabindex="-1">查看容器 <a class="header-anchor" href="#查看容器" aria-hidden="true">#</a></h5><pre><code>docker ps
</code></pre><h5 id="查看所有容器-1" tabindex="-1">查看所有容器 <a class="header-anchor" href="#查看所有容器-1" aria-hidden="true">#</a></h5><pre><code>docker ps -a
</code></pre><h5 id="存出镜像文件" tabindex="-1">存出镜像文件 <a class="header-anchor" href="#存出镜像文件" aria-hidden="true">#</a></h5><pre><code>docker save -o aaaa.tar centos:14.0
</code></pre><h5 id="加载镜像文件" tabindex="-1">加载镜像文件 <a class="header-anchor" href="#加载镜像文件" aria-hidden="true">#</a></h5><pre><code>docker load &lt; centos.tar
</code></pre><h5 id="下载镜像" tabindex="-1">下载镜像 <a class="header-anchor" href="#下载镜像" aria-hidden="true">#</a></h5><pre><code>docker pull centos/[或镜像地址]，默认为docker hub
</code></pre><h5 id="查看镜像信息" tabindex="-1">查看镜像信息 <a class="header-anchor" href="#查看镜像信息" aria-hidden="true">#</a></h5><pre><code>docker inspect &lt;镜像ID&gt;
</code></pre><h5 id="创建容器" tabindex="-1">创建容器 <a class="header-anchor" href="#创建容器" aria-hidden="true">#</a></h5><pre><code>docker create &lt;镜像ID、或名称&gt;
</code></pre><h5 id="删除容器" tabindex="-1">删除容器 <a class="header-anchor" href="#删除容器" aria-hidden="true">#</a></h5><pre><code>docker rm
</code></pre><h1 id="-1" tabindex="-1"><a class="header-anchor" href="#-1" aria-hidden="true">#</a></h1><pre><code>docker rm -f 强行停止并删除
</code></pre><h5 id="创建容器并运行" tabindex="-1">创建容器并运行 <a class="header-anchor" href="#创建容器并运行" aria-hidden="true">#</a></h5><pre><code>docker run &lt;镜像ID、或名称&gt;
</code></pre><h5 id="获取容器的logs" tabindex="-1">获取容器的logs <a class="header-anchor" href="#获取容器的logs" aria-hidden="true">#</a></h5><pre><code>docker logs -f
</code></pre><h5 id="进入容器" tabindex="-1">进入容器 <a class="header-anchor" href="#进入容器" aria-hidden="true">#</a></h5><pre><code>docker exec -it &lt;容器ID&gt; /bin/bash 
</code></pre><h5 id="停止容器" tabindex="-1">停止容器 <a class="header-anchor" href="#停止容器" aria-hidden="true">#</a></h5><pre><code>docker stop [-t|--time[=10]] 会先发发送给容器SIGTERM信号，然后一段时间后（默认为10s）终止容器】
</code></pre><h1 id="-2" tabindex="-1"><a class="header-anchor" href="#-2" aria-hidden="true">#</a></h1><pre><code>docker stop &lt;容器id&gt;
</code></pre><h1 id="-3" tabindex="-1"><a class="header-anchor" href="#-3" aria-hidden="true">#</a></h1><pre><code>通过exit 退出终端时容器立刻终止
</code></pre><h5 id="运行容器" tabindex="-1">运行容器 <a class="header-anchor" href="#运行容器" aria-hidden="true">#</a></h5><pre><code>docker start &lt;容器id&gt;
</code></pre><h5 id="配置加速器" tabindex="-1">配置加速器 <a class="header-anchor" href="#配置加速器" aria-hidden="true">#</a></h5><h6 id="_7-0" tabindex="-1">7.0 <a class="header-anchor" href="#_7-0" aria-hidden="true">#</a></h6><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo sed -i &#39;s|other_args=&quot;|other_args=&quot;--registry-mirror=https://s856njmh.mirror.aliyuncs.com |g&#39; /etc/sysconfig/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo sed -i &quot;s|OPTIONS=&#39;|OPTIONS=&#39;--registry-mirror=https://s856njmh.mirror.aliyuncs.com |g&quot; /etc/sysconfig/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo sed -i &#39;N;s|\\[Service\\]\\n|\\[Service\\]\\nEnvironmentFile=-/etc/sysconfig/docker\\n|g&#39; /usr/lib/systemd/system/docker.service</span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo sed -i &#39;s|fd://|fd:// $other_args |g&#39; /usr/lib/systemd/system/docker.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo service docker restart</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h6 id="_6-0" tabindex="-1">6.0 <a class="header-anchor" href="#_6-0" aria-hidden="true">#</a></h6><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">   sudo sed -i &quot;s|other_args=\\&quot;|other_args=\\&quot;--registry-mirror=https://s856njmh.mirror.aliyuncs.com |g&quot; /etc/sysconfig/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo sed -i &quot;s|OPTIONS=&#39;|OPTIONS=&#39;--registry-mirror=https://s856njmh.mirror.aliyuncs.com |g&quot; /etc/sysconfig/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">   sudo service docker restart</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,91),p=[l];function c(o,i,d,t,h,u){return a(),e("div",null,p)}const C=s(r,[["render",c]]);export{m as __pageData,C as default};
