import{_ as s,o as a,c as n,a as e}from"./app.4690b2e6.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"软件介绍","slug":"软件介绍","link":"#软件介绍","children":[]},{"level":3,"title":"编写人员","slug":"编写人员","link":"#编写人员","children":[]},{"level":3,"title":"名词解释:","slug":"名词解释","link":"#名词解释","children":[]},{"level":3,"title":"官方文档:","slug":"官方文档","link":"#官方文档","children":[]},{"level":3,"title":"优化过程:","slug":"优化过程","link":"#优化过程","children":[]}],"relativePath":"articles/deploy/服务器-系统优化.md","lastUpdated":1697709769000}'),l={name:"articles/deploy/服务器-系统优化.md"},p=e(`<h3 id="软件介绍" tabindex="-1">软件介绍 <a class="header-anchor" href="#软件介绍" aria-hidden="true">#</a></h3><p>linux</p><h3 id="编写人员" tabindex="-1">编写人员 <a class="header-anchor" href="#编写人员" aria-hidden="true">#</a></h3><p>mzw</p><h4 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-hidden="true">#</a></h4><h4 id="局限性" tabindex="-1">局限性 <a class="header-anchor" href="#局限性" aria-hidden="true">#</a></h4><h4 id="工作原理" tabindex="-1">工作原理 <a class="header-anchor" href="#工作原理" aria-hidden="true">#</a></h4><h3 id="名词解释" tabindex="-1">名词解释: <a class="header-anchor" href="#名词解释" aria-hidden="true">#</a></h3><h3 id="官方文档" tabindex="-1">官方文档: <a class="header-anchor" href="#官方文档" aria-hidden="true">#</a></h3><h3 id="优化过程" tabindex="-1">优化过程: <a class="header-anchor" href="#优化过程" aria-hidden="true">#</a></h3><h4 id="修改密码策略" tabindex="-1">修改密码策略 <a class="header-anchor" href="#修改密码策略" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_MAX_DAYS\\).*/\\1   180/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_MIN_DAYS\\).*/\\1   1/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_WARN_AGE\\).*/\\1   28/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_MIN_LEN\\).*/\\1   8/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">cat /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="配置密码复杂度" tabindex="-1">配置密码复杂度 <a class="header-anchor" href="#配置密码复杂度" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个小写字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个大写字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个数字字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个特殊字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置root账号</span></span>
<span class="line"><span style="color:#A6ACCD;">#检查配置文件</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablereqlower --update</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablerequpper --update</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablereqdigit --update</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablereqother --update</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/\\(pam_pwquality.so\\).*/\\1   try_first_pass local_users_only retry=3 enforce_for_root/&#39; /etc/pam.d/system-auth</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak &#39;/pam_faildelay.so/a\\auth        required      pam_tally2.so deny=5 unlock_time=180 even_deny_root_account audit&#39; /etc/pam.d/system-auth</span></span>
<span class="line"><span style="color:#A6ACCD;">cat /etc/pam.d/system-auth</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="禁用无用服务" tabindex="-1">禁用无用服务 <a class="header-anchor" href="#禁用无用服务" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">systemctl  status nfs-client.target</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status getty@tty1.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status getty@.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status serial-getty@ttys0.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  stop nfs-client.target</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  stop getty@tty1.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  stop getty@.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  stop serial-getty@ttys0.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  disable nfs-client.target</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  disable getty@tty1.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  disable getty@.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  disable serial-getty@ttys0.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status nfs-client.target</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status getty@tty1.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status getty@.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  status serial-getty@ttys0.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="禁用系统多余账号" tabindex="-1">禁用系统多余账号 <a class="header-anchor" href="#禁用系统多余账号" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">cat /etc/passwd |grep nologin</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(shutdown:\\).*/\\1x:6:0:shutdown:\\/sbin:\\/sbin\\/nologin/&#39; /etc/passwd</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(halt:\\).*/\\1x:7:0:halt:\\/sbin:\\/sbin\\/nologin/&#39; /etc/passwd</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(sync:\\).*/\\1x:5:0:sync:\\/sbin:\\/sbin\\/nologin/&#39; /etc/passwd</span></span>
<span class="line"><span style="color:#A6ACCD;">cat /etc/passwd |grep nologin</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="禁止root用户远程登录-创建普通用户登录再进行切换" tabindex="-1">禁止root用户远程登录，创建普通用户登录再进行切换 <a class="header-anchor" href="#禁止root用户远程登录-创建普通用户登录再进行切换" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">#创建新用户并授权，设置密码</span></span>
<span class="line"><span style="color:#A6ACCD;">#禁止root登录</span></span>
<span class="line"><span style="color:#A6ACCD;">adduser devroot</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;Hhwy@admin2019&quot; |passwd --stdin devroot</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PermitRootLogin \\).*/\\1yes/&#39; /etc/ssh/sshd_config</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="禁止移动设备挂载" tabindex="-1">禁止移动设备挂载 <a class="header-anchor" href="#禁止移动设备挂载" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sed -i &#39;s/^&lt;console&gt;\\S*/#&lt;console&gt;/&#39; /etc/security/console.perms</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i &#39;s/^&lt;xconsole&gt;\\S*/#&lt;xconsole&gt;/&#39; /etc/security/console.perms</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="记录系统内核日志" tabindex="-1">记录系统内核日志 <a class="header-anchor" href="#记录系统内核日志" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sed -i &#39;s/^#kern.\\*\\S*/kern.warning/&#39; /etc/rsyslog.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="日志权限修改" tabindex="-1">日志权限修改 <a class="header-anchor" href="#日志权限修改" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">chmod 400 /etc/rsyslog.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="操作系统审计日志保留时长" tabindex="-1">操作系统审计日志保留时长 <a class="header-anchor" href="#操作系统审计日志保留时长" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="终端自动断开" tabindex="-1">终端自动断开 <a class="header-anchor" href="#终端自动断开" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">echo export TMOUT=600 &gt;&gt; /etc/profile</span></span>
<span class="line"><span style="color:#A6ACCD;">echo readonly TMOUT &gt;&gt; /etc/profile</span></span>
<span class="line"><span style="color:#A6ACCD;">source /etc/profile</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="限制同一用户登录个数" tabindex="-1">限制同一用户登录个数 <a class="header-anchor" href="#限制同一用户登录个数" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">echo &quot;* hard   maxlogins   5&quot; &gt;&gt; /etc/security/limits.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="up-sh脚本" tabindex="-1">up.sh脚本 <a class="header-anchor" href="#up-sh脚本" aria-hidden="true">#</a></h4><h4 id="修改密码策略-1" tabindex="-1">修改密码策略 <a class="header-anchor" href="#修改密码策略-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_MAX_DAYS\\).*/\\1   180/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_MIN_DAYS\\).*/\\1   1/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_WARN_AGE\\).*/\\1   28/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/^\\(PASS_MIN_LEN\\).*/\\1   8/&#39; /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;">#cat /etc/login.defs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="配置密码复杂度-1" tabindex="-1">配置密码复杂度 <a class="header-anchor" href="#配置密码复杂度-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个小写字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个大写字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个数字字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置密码中至少包含一个特殊字符</span></span>
<span class="line"><span style="color:#A6ACCD;">#设置root账号</span></span>
<span class="line"><span style="color:#A6ACCD;">#检查配置文件</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablereqlower --update</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablerequpper --update</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablereqdigit --update</span></span>
<span class="line"><span style="color:#A6ACCD;">authconfig --enablereqother --update</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak -e &#39;s/\\(pam_pwquality.so\\).*/\\1   try_first_pass local_users_only retry=3 enforce_for_root/&#39; /etc/pam.d/system-auth</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i.bak &#39;/pam_faildelay.so/a\\auth        required      pam_tally2.so deny=5 unlock_time=180 even_deny_root_account audit&#39; /etc/pam.d/system-auth</span></span>
<span class="line"><span style="color:#A6ACCD;">#cat /etc/pam.d/system-auth</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="禁用无用服务-1" tabindex="-1">禁用无用服务 <a class="header-anchor" href="#禁用无用服务-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">systemctl  stop nfs-client.target</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  stop getty@tty1.service</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  disable nfs-client.target</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl  disable getty@tty1.service</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="禁用系统多余账号-1" tabindex="-1">禁用系统多余账号 <a class="header-anchor" href="#禁用系统多余账号-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">usermod -L shutdown</span></span>
<span class="line"><span style="color:#A6ACCD;">usermod -L halt</span></span>
<span class="line"><span style="color:#A6ACCD;">usermod -L sync</span></span>
<span class="line"><span style="color:#A6ACCD;">#cat /etc/passwd</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="禁止root用户远程登录-创建普通用户登录再进行切换-1" tabindex="-1">禁止root用户远程登录，创建普通用户登录再进行切换 <a class="header-anchor" href="#禁止root用户远程登录-创建普通用户登录再进行切换-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">#创建新用户并授权，设置密码</span></span>
<span class="line"><span style="color:#A6ACCD;">#禁止root登录</span></span>
<span class="line"><span style="color:#A6ACCD;">adduser devroot</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;Hhwy@admin2019&quot; |passwd --stdin devroot</span></span>
<span class="line"><span style="color:#A6ACCD;">#sed -i.bak &#39;s/PermitRootLogin yes/PermitRootLogin no/&#39; /etc/ssh/sshd_config</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">cat &lt;&lt; EOF  &gt; /etc/sudoers.d/devroot</span></span>
<span class="line"><span style="color:#A6ACCD;">devroot ALL=(ALL) PASSWD:ALL</span></span>
<span class="line"><span style="color:#A6ACCD;">EOF</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl restart sshd</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="禁止移动设备挂载-1" tabindex="-1">禁止移动设备挂载 <a class="header-anchor" href="#禁止移动设备挂载-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sed -i &#39;s/^&lt;console&gt;\\S*/#&lt;console&gt;/&#39; /etc/security/console.perms</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i &#39;s/^&lt;xconsole&gt;\\S*/#&lt;xconsole&gt;/&#39; /etc/security/console.perms</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="记录系统内核日志-1" tabindex="-1">记录系统内核日志 <a class="header-anchor" href="#记录系统内核日志-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sed -i &#39;s/^#kern.\\*\\S*/kern.warning/&#39; /etc/rsyslog.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="日志权限修改-1" tabindex="-1">日志权限修改 <a class="header-anchor" href="#日志权限修改-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">chmod 400 /etc/rsyslog.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="操作系统审计日志保留时长-1" tabindex="-1">操作系统审计日志保留时长 <a class="header-anchor" href="#操作系统审计日志保留时长-1" aria-hidden="true">#</a></h4><h4 id="终端自动断开-1" tabindex="-1">终端自动断开 <a class="header-anchor" href="#终端自动断开-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">echo export TMOUT=600 &gt;&gt; /etc/profile</span></span>
<span class="line"><span style="color:#A6ACCD;">echo readonly TMOUT &gt;&gt; /etc/profile</span></span>
<span class="line"><span style="color:#A6ACCD;">source /etc/profile</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="限制同一用户登录个数-1" tabindex="-1">限制同一用户登录个数 <a class="header-anchor" href="#限制同一用户登录个数-1" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">echo &quot;@root hard   maxlogins   5&quot; &gt;&gt; /etc/security/limits.conf</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;@devroot hard   maxlogins   10&quot; &gt;&gt; /etc/security/limits.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,54),r=[p];function i(c,t,o,d,b,u){return a(),n("div",null,r)}const C=s(l,[["render",i]]);export{m as __pageData,C as default};
