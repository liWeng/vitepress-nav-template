import{_ as s,o as a,c as n,a as l}from"./app.4690b2e6.js";const y=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"articles/assembly/market/上传组件.md","lastUpdated":1697707960000}'),e={name:"articles/assembly/market/上传组件.md"},p=l(`<h4 id="mk-file-upload" tabindex="-1">mk-file-upload <a class="header-anchor" href="#mk-file-upload" aria-hidden="true">#</a></h4><h4 id="使用的地方要移除掉其他上传组件的资源-如jquery-fileupload-的所有资源" tabindex="-1">使用的地方要移除掉其他上传组件的资源, 如jquery.fileupload 的所有资源 <a class="header-anchor" href="#使用的地方要移除掉其他上传组件的资源-如jquery-fileupload-的所有资源" aria-hidden="true">#</a></h4><h4 id="使用的地方必须引用如下资源" tabindex="-1">使用的地方必须引用如下资源 <a class="header-anchor" href="#使用的地方必须引用如下资源" aria-hidden="true">#</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://123.57.37.117:8888/res-v0.1.1/lib/bootstrap/css/fileinput.min.4.1.8.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://123.57.37.117:8888/res-v0.1.1/lib/bootstrap/js/fileinput.min.4.1.8.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="效果图" tabindex="-1">效果图 <a class="header-anchor" href="#效果图" aria-hidden="true">#</a></h4><p><img src="https://git.365power.cn/jialx/documents/raw/master/images/upload-01.png" alt="design image"></p><h4 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-hidden="true">#</a></h4><ul><li>url : 上传地址</li><li>show_upload : 是否显示上传按钮(默认不显示,推荐使用代码执行上传操作,避免垃圾文件)</li><li>:upload.sync=&quot;uploadtest&quot; 当 upload 的值为&quot;upload&quot;时会执行上传操作</li><li>params : 上传的时候带的参数 例如 &quot;{&quot;id&quot;:&quot;122333&quot;,&quot;groupId&quot;:&quot;125sssss&quot;}&quot;</li><li>required 是否必填,默认为true</li></ul><h4 id="事件" tabindex="-1">事件 <a class="header-anchor" href="#事件" aria-hidden="true">#</a></h4><ul><li>@upload-error=handler(msg)</li><li>@upload-success=handler(datas)</li><li>@select=handler(files)</li></ul><h4 id="方法" tabindex="-1">方法 <a class="header-anchor" href="#方法" aria-hidden="true">#</a></h4><ul><li>valid 验证方法, 判断是否验证成功, 如果required为true 并且未选择文件则返回false, 否则返回为true. 返回值并不代表上没上传. 只判断是否选择文件</li><li>validAndUpload 执行验证并上传</li><li>remove 移除选中文件</li></ul><h4 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-hidden="true">#</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">mk-form-col</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">colspan</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">label</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">附件</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">required_icon</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">true</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">mk-file-upload</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-ref:uploadfile</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">:upload.sync</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">upload</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@upload-error</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uploadError</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@upload-success</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uploadSuccess</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@select</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">select</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">url</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://test.cac.365grid.cn/fileservice/fileservice/fileext</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">mk-file-upload</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">mk-form-col</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="vue-组件调用方法为" tabindex="-1">vue 组件调用方法为 <a class="header-anchor" href="#vue-组件调用方法为" aria-hidden="true">#</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">组件中加入</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">v</span><span style="color:#89DDFF;">-</span><span style="color:#FFCB6B;">ref</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">uploadfile </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">=this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">uploadfile</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valid</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">						</span></span>
<span class="line"><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(res)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,16),o=[p];function t(r,c,i,D,F,u){return a(),n("div",null,o)}const h=s(e,[["render",t]]);export{y as __pageData,h as default};
